{% extends 'layout.html' %} {% block main %}
<style type="text/css">
	.tip {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: 100;
		background: rgba(0, 0, 0, 0.5);
	}
	#editTip{
		position: relative;
		width: 60%;
		height: 200px;
		margin: 20% auto;
		z-index: 150;
		background: #FFF;
		padding: 15px;
		border-radius: 15px;
	}
	#editTip form{
		height: 100px;
	}
</style>
<div class="main" style="padding: 0;">
	<div class="main-content">
		<div class="container-fluid">
			<div class="row">
				<ul id="myTab" class="nav nav-tabs">
					<li class="active">
						<a href="#home" data-toggle="tab">首页管理</a>
					</li>
					<li>
						<a href="#cate" data-toggle="tab">添加分类</a>
					</li>
				</ul>
				<!--页面内容-->
				<div id="myTabContent" class="tab-content">
					<div class="tab-pane fade in active" id="home">
						<p>菜鸟教程是一个提供最新的web技术站点，本站免费提供了建站相关的技术文档，帮助广大web技术爱好者快速入门并建立自己的网站。菜鸟先飞早入行——学的不仅是技术，更是梦想。</p>
					</div>
					<!--添加分类-->
					<div class="tab-pane fade" id="cate">
						<form class="form" method="post">
							<label>分类名</label><br/>
							<input type="text" name="cateName" class="form-control" style="width: 50%; display: inline-block;" />
							<button type="submit" class="btn btn-primary">添加</button>
						</form>
						<div class="panel" style="margin-top: 15px;">
							<div class="panel-heading">
								<h3 class="panel-title">分类列表</h3>
							</div>
							<div class="panel-body">
								<table class="table">
									<thead>
										<tr>
											<th>id</th>
											<th>分类名</th>
											<th>备注</th>
											<th>操作</th>
										</tr>
									</thead>
									<tbody>
										{% for category in categories %}
										<tr>
											<td>{{category._id.toString()}}</td>
											<td>{{category.name}}</td>
											<td></td>
											<td>
												<a id="edit" href="/admin/category/edit?id={{category._id.toString()}}">修改</a>|
												<a id="delete" href="/admin/category/delete?id={{category._id.toString()}}">删除</a>
											</td>
										</tr>
										{% endfor %}
									</tbody>
								</table>
							</div>
						</div>
						{%include 'page.html'%}
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="tip" style="display: none;">
	<div id="editTip">
		<h4>分类管理<small>&nbsp;&nbsp;>&nbsp;&nbsp;编辑分类</small></h4>
		<form method="post" style="display: flex;justify-content: space-between;align-items: center;">
			<label>分类名</label><br/>
			<input type="text" name="edit_cateName" class="form-control" style="width: 50%; display: inline-block;" />
			<input type="hidden" name="id" id="id" value="" />
			<input type="submit" value="修改" class="btn btn-primary"/>
		</form>
	</div>
</div>
<script>
	$(function() {
		$('#myTab li:eq(1) a').tab('show');
	});
	$('.tip').click(function(){
		$(this).hide("normal");
	});
	$('#editTip').click(function(e){
		e.stopPropagation();
	})
	function edit(id, name){
//		$('input[name=edit_cateName]').val(name);
//		$('input[name=id]').val(id);
//		$('.tip').show("normal");
	}
</script>
{% endblock %}